// script-register.js

document.getElementById('registerForm').addEventListener('submit', function (e) {
  e.preventDefault();

  const password = document.getElementById('password').value;
  const confirm = document.getElementById('confirmPassword').value;
  const terms = document.getElementById('terms').checked;
  const errors = [];

  if (password !== confirm) {
    errors.push("Passwords do not match.");
  }

  if (password.length < 8) {
    errors.push("Password must be at least 8 characters.");
  }

  if (!terms) {
    errors.push("You must accept the Terms of Service.");
  }

  const errorBox = document.getElementById('errorMessages');
  if (errors.length > 0) {
    errorBox.innerHTML = errors.map(e => `<p>${e}</p>`).join('');
    return;
  } else {
    errorBox.innerHTML = "";
    alert("Registration successful!");
    // send to backend here
  }
});

// Password strength display
document.getElementById('password').addEventListener('input', function () {
  const val = this.value;
  const strengthBox = document.getElementById('passwordStrength');
  let strength = "Weak";
  let color = "red";

  if (val.length >= 12 && /[A-Z]/.test(val) && /[0-9]/.test(val) && /[^A-Za-z0-9]/.test(val)) {
    strength = "Strong";
    color = "limegreen";
  } else if (val.length >= 8 && /[A-Z]/.test(val) && /[0-9]/.test(val)) {
    strength = "Medium";
    color = "orange";
  }

  strengthBox.textContent = `Password strength: ${strength}`;
  strengthBox.style.color = color;
});

// Theme toggle
document.getElementById('themeToggle').addEventListener('click', () => {
  document.body.classList.toggle('dark');
});
